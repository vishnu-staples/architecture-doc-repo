
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://vishnu-staples.github.io/architecture-doc-repo/systems/file-transfer/architecture/deployment-architecture.html" rel="canonical"/>
<link href="../../eway/index.html" rel="prev"/>
<link href="event-driven-architecture.html" rel="next"/>
<link href="../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.7.1" name="generator"/>
<title>Deployment Architecture - Architecture Docs</title>
<link href="../../../assets/stylesheets/main.484c7ddc.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../styles/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#deployment-architecture">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Architecture Docs" class="md-header__button md-logo" data-md-component="logo" href="../../../index.html" title="Architecture Docs">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Architecture Docs
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Deployment Architecture
            
          </span>
</div>
</div>
</div>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Architecture Docs" class="md-nav__button md-logo" data-md-component="logo" href="../../../index.html" title="Architecture Docs">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    Architecture Docs
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../index.html">
<span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Decision records
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Decision records
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../decision-records/index.html">
<span class="md-ellipsis">
    
  
    List of documents
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Governance
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Governance
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../governance/nomenclature.html">
<span class="md-ellipsis">
    
  
    Nomenclature
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../governance/principles.html">
<span class="md-ellipsis">
    
  
    Principles
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../governance/raci.html">
<span class="md-ellipsis">
    
  
    RACI
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Infrastructure
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Infrastructure
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../infrastructure/index.html">
<span class="md-ellipsis">
    
  
    Physical Architecture
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Standards
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            
  
    Standards
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../standards/data-privacy.html">
<span class="md-ellipsis">
    
  
    Data privacy
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../standards/integrations.html">
<span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../standards/observability.html">
<span class="md-ellipsis">
    
  
    Observability
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../standards/operability.html">
<span class="md-ellipsis">
    
  
    Operability
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../standards/security.html">
<span class="md-ellipsis">
    
  
    Security
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Systems
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            
  
    Systems
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../index.html">
<span class="md-ellipsis">
    
  
    System Context
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Dot ca
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Dot ca
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../dot-ca/index.html">
<span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Eway
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Eway
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../eway/index.html">
<span class="md-ellipsis">
    
  
    Index
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
<span class="md-ellipsis">
    
  
    File transfer
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_6_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_4">
<span class="md-nav__icon md-icon"></span>
            
  
    File transfer
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_4_1" id="__nav_6_4_1_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_6_4_1_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_4_1">
<span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    
  
    Deployment Architecture
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="deployment-architecture.html">
<span class="md-ellipsis">
    
  
    Deployment Architecture
  

    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#kubernetes-architecture">
<span class="md-ellipsis">
      
        Kubernetes Architecture
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#namespace-configuration">
<span class="md-ellipsis">
      
        Namespace Configuration
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pod-configuration">
<span class="md-ellipsis">
      
        Pod Configuration
      
    </span>
</a>
<nav aria-label="Pod Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#deployment-template-file-job-handler-templateyaml">
<span class="md-ellipsis">
      
        Deployment Template (file-job-handler-template.yaml)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#environment-variables">
<span class="md-ellipsis">
      
        Environment Variables
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#volume-mounts">
<span class="md-ellipsis">
      
        Volume Mounts
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#secrets-management">
<span class="md-ellipsis">
      
        Secrets Management
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cicd-pipeline">
<span class="md-ellipsis">
      
        CI/CD Pipeline
      
    </span>
</a>
<nav aria-label="CI/CD Pipeline" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pipeline-stages">
<span class="md-ellipsis">
      
        Pipeline Stages
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#build-process">
<span class="md-ellipsis">
      
        Build Process
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deployment-process">
<span class="md-ellipsis">
      
        Deployment Process
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#container-registry">
<span class="md-ellipsis">
      
        Container Registry
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#agent-pools">
<span class="md-ellipsis">
      
        Agent Pools
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#health-monitoring">
<span class="md-ellipsis">
      
        Health Monitoring
      
    </span>
</a>
<nav aria-label="Health Monitoring" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#datadog-integration">
<span class="md-ellipsis">
      
        Datadog Integration
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#application-logs">
<span class="md-ellipsis">
      
        Application Logs
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scaling-configuration">
<span class="md-ellipsis">
      
        Scaling Configuration
      
    </span>
</a>
<nav aria-label="Scaling Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#horizontal-pod-autoscaler-hpa">
<span class="md-ellipsis">
      
        Horizontal Pod Autoscaler (HPA)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#resource-limits">
<span class="md-ellipsis">
      
        Resource Limits
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#related-documentation">
<span class="md-ellipsis">
      
        Related Documentation
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="event-driven-architecture.html">
<span class="md-ellipsis">
    
  
    Event-Driven Architecture
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="multi-cloud-storage.html">
<span class="md-ellipsis">
    
  
    Multi-Cloud Storage Architecture
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="overview.html">
<span class="md-ellipsis">
    
  
    System Architecture Overview
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="queue-architecture.html">
<span class="md-ellipsis">
    
  
    Queue Architecture
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_4_2" id="__nav_6_4_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Components
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_4_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_4_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Components
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../components/file-event-handler.html">
<span class="md-ellipsis">
    
  
    FileEventHandler
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../components/file-job-handler-price-proposal.html">
<span class="md-ellipsis">
    
  
    FileJobHandler-PriceProposal
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../components/file-job-handler-tms-carrier-pod.html">
<span class="md-ellipsis">
    
  
    FileJobHandler-TMSCarrierPOD
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../components/file-job-handler-tms-route.html">
<span class="md-ellipsis">
    
  
    FileJobHandler-TMSRoute
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../components/file-job-handler-tms-status.html">
<span class="md-ellipsis">
    
  
    FileJobHandler-TMSStatus
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../components/file-job-handler.html">
<span class="md-ellipsis">
    
  
    FileJobHandler
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../components/file-transfer-common.html">
<span class="md-ellipsis">
    
  
    FileTransferCommon
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_4_3" id="__nav_6_4_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Data models
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_4_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_4_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Data models
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../data-models/credentials-model.html">
<span class="md-ellipsis">
    
  
    Credentials Model
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../data-models/job-config-model.html">
<span class="md-ellipsis">
    
  
    Job ConfigModel
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../data-models/jobstatus-model.html">
<span class="md-ellipsis">
    
  
    JobStatus Model
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../data-models/notification-model.html">
<span class="md-ellipsis">
    
  
    Notification Model
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../data-models/routing-config-model.html">
<span class="md-ellipsis">
    
  
    Routing ConfigModel
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_4_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_4_4" id="__nav_6_4_4_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Job configuration
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_4_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_4_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Job configuration
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../job-configuration/action-types.html">
<span class="md-ellipsis">
    
  
    Action Types
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../job-configuration/jobsettings-storage.html">
<span class="md-ellipsis">
    
  
    Jobsettings Storage
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../job-configuration/placeholders-reference.html">
<span class="md-ellipsis">
    
  
    Placeholders Reference
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../job-configuration/source-destination-types.html">
<span class="md-ellipsis">
    
  
    Source/Destination Types
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../job-configuration/specification.html">
<span class="md-ellipsis">
    
  
    Job Configuration Specification
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_4_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_4_5" id="__nav_6_4_5_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Job examples
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_4_5_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_4_5">
<span class="md-nav__icon md-icon"></span>
            
  
    Job examples
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../job-examples/index.html">
<span class="md-ellipsis">
    
  
    Job Examples
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_4_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_4_6" id="__nav_6_4_6_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Operations
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_4_6_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_4_6">
<span class="md-nav__icon md-icon"></span>
            
  
    Operations
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../operations/configuration-management.html">
<span class="md-ellipsis">
    
  
    Configuration Management
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../operations/deployment-guide.html">
<span class="md-ellipsis">
    
  
    Deployment Guide
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../operations/monitoring-logging.html">
<span class="md-ellipsis">
    
  
    Monitoring &amp; Logging
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../operations/security-secrets.html">
<span class="md-ellipsis">
    
  
    Security &amp; Secrets Management
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../operations/troubleshooting-runbook.html">
<span class="md-ellipsis">
    
  
    Troubleshooting Runbook
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Print
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_5">
<span class="md-nav__icon md-icon"></span>
            
  
    Print
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../print/index.html">
<span class="md-ellipsis">
    
  
    Index
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#kubernetes-architecture">
<span class="md-ellipsis">
      
        Kubernetes Architecture
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#namespace-configuration">
<span class="md-ellipsis">
      
        Namespace Configuration
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pod-configuration">
<span class="md-ellipsis">
      
        Pod Configuration
      
    </span>
</a>
<nav aria-label="Pod Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#deployment-template-file-job-handler-templateyaml">
<span class="md-ellipsis">
      
        Deployment Template (file-job-handler-template.yaml)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#environment-variables">
<span class="md-ellipsis">
      
        Environment Variables
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#volume-mounts">
<span class="md-ellipsis">
      
        Volume Mounts
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#secrets-management">
<span class="md-ellipsis">
      
        Secrets Management
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cicd-pipeline">
<span class="md-ellipsis">
      
        CI/CD Pipeline
      
    </span>
</a>
<nav aria-label="CI/CD Pipeline" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pipeline-stages">
<span class="md-ellipsis">
      
        Pipeline Stages
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#build-process">
<span class="md-ellipsis">
      
        Build Process
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deployment-process">
<span class="md-ellipsis">
      
        Deployment Process
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#container-registry">
<span class="md-ellipsis">
      
        Container Registry
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#agent-pools">
<span class="md-ellipsis">
      
        Agent Pools
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#health-monitoring">
<span class="md-ellipsis">
      
        Health Monitoring
      
    </span>
</a>
<nav aria-label="Health Monitoring" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#datadog-integration">
<span class="md-ellipsis">
      
        Datadog Integration
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#application-logs">
<span class="md-ellipsis">
      
        Application Logs
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scaling-configuration">
<span class="md-ellipsis">
      
        Scaling Configuration
      
    </span>
</a>
<nav aria-label="Scaling Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#horizontal-pod-autoscaler-hpa">
<span class="md-ellipsis">
      
        Horizontal Pod Autoscaler (HPA)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#resource-limits">
<span class="md-ellipsis">
      
        Resource Limits
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#related-documentation">
<span class="md-ellipsis">
      
        Related Documentation
      
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="deployment-architecture">Deployment Architecture<a class="headerlink" href="#deployment-architecture" title="Permanent link">¶</a></h1>
<p>FTS components are deployed as containerized microservices on Azure Kubernetes Service (AKS) using Azure DevOps Pipelines for CI/CD.</p>
<h2 id="kubernetes-architecture">Kubernetes Architecture<a class="headerlink" href="#kubernetes-architecture" title="Permanent link">¶</a></h2>
<div class="mermaid">graph TB
    subgraph AKS Cluster
        subgraph sftp-namespace
            FEH[FileEventHandler Pod]
            FJH[FileJobHandler Pod]
            TMSR[FileJobHandler-TMSRoute Pod]
            TMSS[FileJobHandler-TMSStatus Pod]
            TMSC[FileJobHandler-TMSCarrierPOD Pod]
            PP[FileJobHandler-PriceProposal Pod]
        end

        subgraph Persistent Volumes
            PV_INT[sftp-internal-fs PVC]
            PV_EXT[sftp-external-fs PVC]
        end

        subgraph Secrets
            SEC[appsettings-secret]
        end
    end

    subgraph Azure Storage
        AFS_INT[Internal File Share]
        AFS_EXT[External File Share]
        AFS_JOB[Job Config File Share]
    end

    PV_INT --&gt; AFS_INT
    PV_EXT --&gt; AFS_EXT

    FEH --&gt; SEC
    FJH --&gt; SEC
    FJH --&gt; PV_INT
    FJH --&gt; PV_EXT
    TMSR --&gt; SEC
    TMSR --&gt; PV_INT
    TMSS --&gt; SEC
    TMSC --&gt; SEC
    PP --&gt; SEC
</div>
<h2 id="namespace-configuration">Namespace Configuration<a class="headerlink" href="#namespace-configuration" title="Permanent link">¶</a></h2>
<table>
<thead>
<tr>
<th>Environment</th>
<th>Namespace</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Development</td>
<td><code>sftp-dev</code></td>
<td>Development testing</td>
</tr>
<tr>
<td>Staging</td>
<td><code>sftp-stg</code></td>
<td>Pre-production validation</td>
</tr>
<tr>
<td>Production</td>
<td><code>sftp-prod</code></td>
<td>Production workloads</td>
</tr>
</tbody>
</table>
<h2 id="pod-configuration">Pod Configuration<a class="headerlink" href="#pod-configuration" title="Permanent link">¶</a></h2>
<h3 id="deployment-template-file-job-handler-templateyaml">Deployment Template (file-job-handler-template.yaml)<a class="headerlink" href="#deployment-template-file-job-handler-templateyaml" title="Permanent link">¶</a></h3>
<pre><code class="language-yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  name: ${K8S_APP_NAME}
  namespace: ${K8S_PROJECT}-${K8S_ENV}
  labels:
    app: ${K8S_APP_NAME}
    project: ${K8S_PROJECT}
    env: ${K8S_ENV}
    version: ${K8S_VERSION}
spec:
  replicas: ${K8S_APP_REPLICAS}
  selector:
    matchLabels:
      app: ${K8S_APP_NAME}
  template:
    metadata:
      labels:
        app: ${K8S_APP_NAME}
    spec:
      containers:
        - name: ${K8S_APP_NAME}
          image: ${K8S_IMAGE_URI}:${K8S_IMAGE_TAG}
          volumeMounts:
            - name: appsettings
              mountPath: /app/appsettings.Production.json
              subPath: appsettings.Production.json
            - name: sftpintroot
              mountPath: /mnt/sftpintroot
            - name: sftpextroot
              mountPath: /mnt/sftpextroot
      volumes:
        - name: appsettings
          secret:
            secretName: ${K8S_APP_SECRET}
        - name: sftpintroot
          persistentVolumeClaim:
            claimName: ${K8S_APP_INT_VOLUME_CLAIM}
        - name: sftpextroot
          persistentVolumeClaim:
            claimName: ${K8S_APP_EXT_VOLUME_CLAIM}
</code></pre>
<h3 id="environment-variables">Environment Variables<a class="headerlink" href="#environment-variables" title="Permanent link">¶</a></h3>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>K8S_PROJECT</code></td>
<td>Project identifier</td>
<td><code>sftp</code></td>
</tr>
<tr>
<td><code>K8S_ENV</code></td>
<td>Environment</td>
<td><code>dev</code>, <code>stg</code>, <code>prod</code></td>
</tr>
<tr>
<td><code>K8S_VERSION</code></td>
<td>Application version</td>
<td><code>20240115.abc1234</code></td>
</tr>
<tr>
<td><code>K8S_APP_NAME</code></td>
<td>Application name</td>
<td><code>file-job-handler</code></td>
</tr>
<tr>
<td><code>K8S_APP_REPLICAS</code></td>
<td>Pod replicas</td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>K8S_IMAGE_URI</code></td>
<td>Container registry</td>
<td><code>enterprisenonpacr.azurecr.io/enterprise/file-job-handler</code></td>
</tr>
<tr>
<td><code>K8S_IMAGE_TAG</code></td>
<td>Image tag</td>
<td><code>develop-abc1234</code></td>
</tr>
</tbody>
</table>
<h2 id="volume-mounts">Volume Mounts<a class="headerlink" href="#volume-mounts" title="Permanent link">¶</a></h2>
<table>
<thead>
<tr>
<th>Mount Path</th>
<th>Purpose</th>
<th>PVC Name</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/mnt/sftpintroot</code></td>
<td>Internal SFTP files</td>
<td><code>sftp-internal-fs-{env}</code></td>
</tr>
<tr>
<td><code>/mnt/sftpextroot</code></td>
<td>External SFTP files</td>
<td><code>sftp-external-fs-{env}</code></td>
</tr>
<tr>
<td><code>/mnt/jobconfig</code></td>
<td>Job configuration files</td>
<td>(part of internal mount)</td>
</tr>
</tbody>
</table>
<h2 id="secrets-management">Secrets Management<a class="headerlink" href="#secrets-management" title="Permanent link">¶</a></h2>
<p>Application settings are stored as Kubernetes secrets:</p>
<pre><code class="language-bash"># Create secret from file
kubectl create secret -n sftp-dev generic \
  sftp-dev-file-job-handler-app-settings-secret \
  --from-file=./appsettings.Production.json
</code></pre>
<p>Secret names by environment:
- Dev: <code>sftp-dev-file-job-handler-app-settings-secret</code>
- Stg: <code>sftp-stg-file-job-handler-app-settings-secret</code>
- Prod: <code>sftp-prod-file-job-handler-app-settings-secret</code></p>
<h2 id="cicd-pipeline">CI/CD Pipeline<a class="headerlink" href="#cicd-pipeline" title="Permanent link">¶</a></h2>
<div class="mermaid">flowchart LR
    subgraph Build Stage
        A[Source Code] --&gt; B[Restore Packages]
        B --&gt; C[Run Tests]
        C --&gt; D[Build Docker Image]
        D --&gt; E[Push to ACR]
    end

    subgraph Dev Deployment
        E --&gt; F[Extract Templates]
        F --&gt; G[Configure appsettings]
        G --&gt; H[Create K8s Secret]
        H --&gt; I[Apply Deployment]
    end

    subgraph Stg Deployment
        I --&gt; J[Configure appsettings]
        J --&gt; K[Create K8s Secret]
        K --&gt; L[Apply Deployment]
    end

    subgraph Prod Deployment
        L --&gt; M[Tag Image for Prod ACR]
        M --&gt; N[Push to Prod ACR]
        N --&gt; O[Configure appsettings]
        O --&gt; P[Create K8s Secret]
        P --&gt; Q[Apply Deployment]
    end
</div>
<h3 id="pipeline-stages">Pipeline Stages<a class="headerlink" href="#pipeline-stages" title="Permanent link">¶</a></h3>
<table>
<thead>
<tr>
<th>Stage</th>
<th>Trigger</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Test</td>
<td>All branches</td>
<td>Run unit tests</td>
</tr>
<tr>
<td>Build</td>
<td><code>develop</code> branch</td>
<td>Build and push Docker image</td>
</tr>
<tr>
<td>DeployToDevEnv</td>
<td>After Build</td>
<td>Deploy to development</td>
</tr>
<tr>
<td>DeployToStgEnv</td>
<td>After Dev</td>
<td>Deploy to staging</td>
</tr>
<tr>
<td>DeployToProdEnv</td>
<td>After Stg</td>
<td>Deploy to production</td>
</tr>
</tbody>
</table>
<h3 id="build-process">Build Process<a class="headerlink" href="#build-process" title="Permanent link">¶</a></h3>
<ol>
<li>
<p><strong>Version Generation</strong>:
   <code>bash
   AppVersion="$(date +'%Y%m%d').$ShortVersion"</code></p>
</li>
<li>
<p><strong>Docker Build</strong>:
   <code>bash
   docker build \
     --build-arg ARG_APM_VENDOR=datadog \
     --build-arg ARG_BUILD_VERSION=${branch}-${version} \
     -t ${acrRepo}:${branch}-${version} \
     -f FileJobHandler/Dockerfile .</code></p>
</li>
<li>
<p><strong>Image Tagging</strong>:</p>
</li>
<li>Dev/Stg: <code>enterprisenonpacr.azurecr.io/enterprise/file-job-handler:develop-abc1234</code></li>
<li>Prod: <code>enterpriseprodacr.azurecr.io/enterprise/file-job-handler:develop-abc1234</code></li>
</ol>
<h3 id="deployment-process">Deployment Process<a class="headerlink" href="#deployment-process" title="Permanent link">¶</a></h3>
<ol>
<li>Extract template files from build artifacts</li>
<li>Substitute environment variables using <code>envsubst</code></li>
<li>Delete existing secrets</li>
<li>Create new secrets from configured appsettings</li>
<li>Apply Kubernetes deployment</li>
</ol>
<h2 id="container-registry">Container Registry<a class="headerlink" href="#container-registry" title="Permanent link">¶</a></h2>
<table>
<thead>
<tr>
<th>Environment</th>
<th>Registry</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Non-Production</td>
<td>enterprisenonpacr</td>
<td><code>enterprisenonpacr.azurecr.io</code></td>
</tr>
<tr>
<td>Production</td>
<td>enterpriseprodacr</td>
<td><code>enterpriseprodacr.azurecr.io</code></td>
</tr>
</tbody>
</table>
<h2 id="agent-pools">Agent Pools<a class="headerlink" href="#agent-pools" title="Permanent link">¶</a></h2>
<table>
<thead>
<tr>
<th>Pool</th>
<th>Environment</th>
<th>Use</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ubuntu-latest</code></td>
<td>Cloud</td>
<td>Build, test, image operations</td>
</tr>
<tr>
<td><code>enterprise-nonp-aks-agents</code></td>
<td>Non-Prod</td>
<td>Dev/Stg deployments</td>
</tr>
<tr>
<td><code>enterprise-prod-aks-agents</code></td>
<td>Prod</td>
<td>Production deployments</td>
</tr>
</tbody>
</table>
<h2 id="health-monitoring">Health Monitoring<a class="headerlink" href="#health-monitoring" title="Permanent link">¶</a></h2>
<h3 id="datadog-integration">Datadog Integration<a class="headerlink" href="#datadog-integration" title="Permanent link">¶</a></h3>
<ul>
<li>APM tracing enabled via <code>ARG_APM_VENDOR=datadog</code></li>
<li>Traces all service calls</li>
<li>Custom metrics for job processing</li>
</ul>
<h3 id="application-logs">Application Logs<a class="headerlink" href="#application-logs" title="Permanent link">¶</a></h3>
<ul>
<li>NLog configured for structured logging</li>
<li>Logs shipped to Datadog</li>
<li>Log levels: Debug, Info, Warning, Error</li>
</ul>
<h2 id="scaling-configuration">Scaling Configuration<a class="headerlink" href="#scaling-configuration" title="Permanent link">¶</a></h2>
<h3 id="horizontal-pod-autoscaler-hpa">Horizontal Pod Autoscaler (HPA)<a class="headerlink" href="#horizontal-pod-autoscaler-hpa" title="Permanent link">¶</a></h3>
<pre><code class="language-yaml">apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: file-job-handler-hpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: file-job-handler
  minReplicas: 1
  maxReplicas: 5
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 70
</code></pre>
<h3 id="resource-limits">Resource Limits<a class="headerlink" href="#resource-limits" title="Permanent link">¶</a></h3>
<pre><code class="language-yaml">resources:
  requests:
    memory: "256Mi"
    cpu: "250m"
  limits:
    memory: "1Gi"
    cpu: "1000m"
</code></pre>
<h2 id="related-documentation">Related Documentation<a class="headerlink" href="#related-documentation" title="Permanent link">¶</a></h2>
<ul>
<li><a href="../operations/configuration-management.html">Configuration Management</a></li>
<li><a href="../operations/monitoring-logging.html">Monitoring &amp; Logging</a></li>
<li><a href="../operations/security-secrets.html">Security &amp; Secrets</a></li>
</ul>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body>
</html>